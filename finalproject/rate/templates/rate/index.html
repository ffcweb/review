{% extends "rate/layout.html" %}
{% load static %}

{% block body %}

  {% block content %}

<div class="container-fluid">
  <h1>The Latest Reviews</h1>
  <hr>
  {% for review in reviews %}
  <ul>
    <div class="review">
      <!-- Link to the store_profile page by tore id, showing as the store name -->
      <p><a href="{% url 'store_profile' review.store.id %}">{{ review.store.name }}</a></p> 
      <span hidden><h2> ID : {{ store.id }} </h2></span>
      <img src="{{ store.image_url }}" alt="iamge">
      <p>Posted by <a href="{% url 'user_profile' user.id %}"> {{ review.user }} for {{ review.store }} on {{ review.timestamp }} </a> </p>
      <p>Content: {{ review.content }}</p>
      <p>Star Rating: {{ review.star_rating }}</p>
      <hr>
    </div>
  </ul>
    {% endfor %}

   <!-- pagination -->
   <div class="pagination">
    <span class="step-links">
        {% if reviews.has_previous %}
        <a href="?page=1">&laquo; First |  </a>
        <a href="?page={{ reviews.previous_page_number }}">   previous</a>
        {% endif %}

        <span class="current">
            Page {{ reviews.number }} of {{ reviews.paginator.num_pages }}.
        </span>

        {% if reviews.has_next %}
        <a href="?page={{ reviews.next_page_number }}">Next |  </a>
        <a href="?page={{ reviews.paginator.num_pages }}">   Last &raquo;</a>
        {% endif %}
    </span>
  </div>


</div>


  {% endblock %}

  <script src="{% static 'rate/script.js' %}"></script> 

{% endblock %}